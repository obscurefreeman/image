<!DOCTYPE html>
<html>
<head>
	<title>图片画廊</title>
	<style>
		.gallery {
			display: flex;
			flex-wrap: wrap;
			justify-content: center;
			align-items: center;
			margin: 20px;
		}

		.gallery img {
			width: 200px;
			height: 200px;
			margin: 10px;
			object-fit: cover;
		}

		.pagination {
			display: flex;
			justify-content: center;
			align-items: center;
			margin: 20px;
		}

		.pagination a {
			margin: 0 10px;
			padding: 5px 10px;
			border: 1px solid #ccc;
			border-radius: 5px;
			text-decoration: none;
			color: #333;
		}

		.pagination a.active {
			background-color: #333;
			color: #fff;
		}
	</style>
</head>
<body>
	<div class="gallery">
		<?php
			$dir = ".";
			$files = scandir($dir);
			foreach ($files as $file) {
				if (in_array(strtolower(pathinfo($file, PATHINFO_EXTENSION)), array("jpg", "jpeg", "png", "gif"))) {
					echo "<img src='$file'>";
				}
			}
		?>
	</div>

	<div class="pagination">
		<?php
			$page = isset($_GET["page"]) ? $_GET["page"] : 1;
			$per_page = 12;
			$total_pages = ceil(count($files) / $per_page);
			for ($i = 1; $i <= $total_pages; $i++) {
				echo "<a href='?page=$i'";
				if ($i == $page) {
					echo " class='active'";
				}
				echo ">$i</a>";
			}
		?>
	</div>
</body>
</html>
